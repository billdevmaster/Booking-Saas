{"remainingRequest":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\src\\containers\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\src\\containers\\Menu.vue","mtime":1685840523872},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdNZW51JywNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vbWluaW1pemU6IGZhbHNlLA0KICAgICAgbmF2OiBbXSwNCiAgICAgIC8vc2hvdzogdHJ1ZSwNCiAgICAgIGJ1ZmZvcjogW10sDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZHJvcGRvd24oZGF0YSl7DQogICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgX25hbWU6ICdDU2lkZWJhck5hdkRyb3Bkb3duJywNCiAgICAgICAgICAgIG5hbWU6IGRhdGFbJ25hbWUnXSwNCiAgICAgICAgICAgIHJvdXRlOiBkYXRhWydocmVmJ10sDQogICAgICAgICAgICBpY29uOiBkYXRhWydpY29uJ10sDQogICAgICAgICAgICBfY2hpbGRyZW46IFtdLA0KICAgICAgfQ0KICAgICAgZm9yKGxldCBpPTA7IGk8ZGF0YVsnZWxlbWVudHMnXS5sZW5ndGg7IGkrKyl7DQogICAgICAgIGlmKGRhdGFbJ2VsZW1lbnRzJ11baV1bJ3NsdWcnXSA9PSAnZHJvcGRvd24nKXsNCiAgICAgICAgICByZXN1bHQuX2NoaWxkcmVuLnB1c2goIHRoaXMuZHJvcGRvd24oZGF0YVsnZWxlbWVudHMnXVtpXSkgKTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgcmVzdWx0Ll9jaGlsZHJlbi5wdXNoKA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgIF9uYW1lOiAgJ0NTaWRlYmFyTmF2SXRlbScsDQogICAgICAgICAgICAgICAgICAgbmFtZTogICBkYXRhWydlbGVtZW50cyddW2ldWyduYW1lJ10sDQogICAgICAgICAgICAgICAgICAgdG86ICAgICBkYXRhWydlbGVtZW50cyddW2ldWydocmVmJ10sDQogICAgICAgICAgICAgICAgICAgaWNvbjogICBkYXRhWydlbGVtZW50cyddW2ldWydpY29uJ10NCiAgICAgICAgICAgIH0gDQogICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9LA0KICAgIHJlYnVpbGREYXRhKGRhdGEpew0KICAgICAgdGhpcy5idWZmb3IgPSBbXTsNCiAgICAgIGZvcihsZXQgaz0wOyBrPGRhdGEubGVuZ3RoOyBrKyspew0KICAgICAgICBzd2l0Y2goZGF0YVtrXVsnc2x1ZyddKXsNCiAgICAgICAgICBjYXNlICdsaW5rJzoNCiAgICAgICAgICAgIGlmKGRhdGFba11bJ2hyZWYnXS5pbmRleE9mKCdodHRwJykgIT09IC0xKXsNCiAgICAgICAgICAgICAgdGhpcy5idWZmb3IucHVzaCgNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICBfbmFtZTogJ0NTaWRlYmFyTmF2SXRlbScsDQogICAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YVtrXVsnbmFtZSddLA0KICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IGRhdGFba11bJ2hyZWYnXSwNCiAgICAgICAgICAgICAgICAgICAgICBpY29uOiBkYXRhW2tdWydpY29uJ10sDQogICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgIHRoaXMuYnVmZm9yLnB1c2goDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgX25hbWU6ICdDU2lkZWJhck5hdkl0ZW0nLA0KICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGRhdGFba11bJ25hbWUnXSwNCiAgICAgICAgICAgICAgICAgICAgICB0bzogICBkYXRhW2tdWydocmVmJ10sDQogICAgICAgICAgICAgICAgICAgICAgaWNvbjogZGF0YVtrXVsnaWNvbiddLA0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIGNhc2UgJ3RpdGxlJzoNCiAgICAgICAgICAgIHRoaXMuYnVmZm9yLnB1c2goDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBfbmFtZTogJ0NTaWRlYmFyTmF2VGl0bGUnLA0KICAgICAgICAgICAgICAgIF9jaGlsZHJlbjogW2RhdGFba11bJ25hbWUnXV0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgICBjYXNlICdkcm9wZG93bic6DQogICAgICAgICAgICB0aGlzLmJ1ZmZvci5wdXNoKCB0aGlzLmRyb3Bkb3duKGRhdGFba10pICk7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiB0aGlzLmJ1ZmZvcjsNCiAgICB9DQogIH0sDQogIG1vdW50ZWQgKCkgew0KICAgIGxldCBzZWxmID0gdGhpczsNCiAgICBheGlvcy5nZXQoIHRoaXMuJGFwaUFkcmVzcyArICcvYXBpL21lbnU/dG9rZW49JyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhcGlfdG9rZW4iKSArICcmbWVudT0nICsgJ3RvcF9tZW51JyApDQogICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICBzZWxmLm5hdiA9IHNlbGYucmVidWlsZERhdGEocmVzcG9uc2UuZGF0YSk7DQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQogICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvbG9naW4nIH0pOw0KICAgIH0pOw0KICB9DQp9DQo="},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Menu.vue","sourceRoot":"src/containers","sourcesContent":["<template>\r\n    <CHeaderNav class=\"d-md-down-none mr-auto\">\r\n      <CHeaderNavItem \r\n        v-for=\"n in nav\"\r\n        v-bind:key=\"n.name\"\r\n      >\r\n        <CHeaderNavLink\r\n          v-if=\"n._name == 'CSidebarNavItem'\"\r\n          :href=\"'#' + n.href\"\r\n        >\r\n          {{ n.name }}\r\n        </CHeaderNavLink>\r\n        <CDropdown\r\n          v-if=\"n._name == 'CSidebarNavDropdown'\"\r\n          color=\"link\"\r\n          :caret=\"false\"\r\n        >\r\n          <template #toggler-content>\r\n            <a class=\"c-header-nav-link\">\r\n              {{ n.name }}\r\n            </a>\r\n          </template>\r\n          <CDropdownItem \r\n            v-for=\"d in n._children\"\r\n            v-bind:key=\"d.name\"\r\n            :href=\"'#' + d.to\"\r\n          >\r\n            {{ d.name }}\r\n          </CDropdownItem>\r\n        </CDropdown>\r\n      </CHeaderNavItem>\r\n    </CHeaderNav>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'Menu',\r\n  data () {\r\n    return {\r\n      //minimize: false,\r\n      nav: [],\r\n      //show: true,\r\n      buffor: [],\r\n    }\r\n  },\r\n  methods: {\r\n    dropdown(data){\r\n      let result = {\r\n            _name: 'CSidebarNavDropdown',\r\n            name: data['name'],\r\n            route: data['href'],\r\n            icon: data['icon'],\r\n            _children: [],\r\n      }\r\n      for(let i=0; i<data['elements'].length; i++){\r\n        if(data['elements'][i]['slug'] == 'dropdown'){\r\n          result._children.push( this.dropdown(data['elements'][i]) );\r\n        }else{\r\n          result._children.push(\r\n            {\r\n                   _name:  'CSidebarNavItem',\r\n                   name:   data['elements'][i]['name'],\r\n                   to:     data['elements'][i]['href'],\r\n                   icon:   data['elements'][i]['icon']\r\n            } \r\n          );\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n    rebuildData(data){\r\n      this.buffor = [];\r\n      for(let k=0; k<data.length; k++){\r\n        switch(data[k]['slug']){\r\n          case 'link':\r\n            if(data[k]['href'].indexOf('http') !== -1){\r\n              this.buffor.push(\r\n                  {\r\n                      _name: 'CSidebarNavItem',\r\n                      name: data[k]['name'],\r\n                      href: data[k]['href'],\r\n                      icon: data[k]['icon'],\r\n                      target: '_blank'\r\n                  }\r\n              );\r\n            }else{\r\n              this.buffor.push(\r\n                  {\r\n                      _name: 'CSidebarNavItem',\r\n                      name: data[k]['name'],\r\n                      to:   data[k]['href'],\r\n                      icon: data[k]['icon'],\r\n                  }\r\n              );\r\n            }\r\n          break;\r\n          case 'title':\r\n            this.buffor.push(\r\n              {\r\n                _name: 'CSidebarNavTitle',\r\n                _children: [data[k]['name']]\r\n              }\r\n            );\r\n          break;\r\n          case 'dropdown':\r\n            this.buffor.push( this.dropdown(data[k]) );\r\n          break;\r\n        }\r\n      }\r\n      return this.buffor;\r\n    }\r\n  },\r\n  mounted () {\r\n    let self = this;\r\n    axios.get( this.$apiAdress + '/api/menu?token=' + localStorage.getItem(\"api_token\") + '&menu=' + 'top_menu' )\r\n    .then(function (response) {\r\n      self.nav = self.rebuildData(response.data);\r\n    }).catch(function (error) {\r\n      console.log(error);\r\n      self.$router.push({ path: '/login' });\r\n    });\r\n  }\r\n}\r\n</script>"]}]}