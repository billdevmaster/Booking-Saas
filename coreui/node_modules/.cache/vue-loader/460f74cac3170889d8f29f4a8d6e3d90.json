{"remainingRequest":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\src\\containers\\TheSidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\src\\containers\\TheSidebar.vue","mtime":1685841185158},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdUaGVTaWRlYmFyJywNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vbWluaW1pemU6IGZhbHNlLA0KICAgICAgbmF2OiBbXSwNCiAgICAgIC8vc2hvdzogdHJ1ZSwNCiAgICAgIGJ1ZmZvcjogW10sDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHNob3cgKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNpZGViYXJTaG93IA0KICAgIH0sDQogICAgbWluaW1pemUgKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNpZGViYXJNaW5pbWl6ZSANCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBkcm9wZG93bihkYXRhKXsNCiAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICBfbmFtZTogJ0NTaWRlYmFyTmF2RHJvcGRvd24nLA0KICAgICAgICAgICAgbmFtZTogZGF0YVsnbmFtZSddLA0KICAgICAgICAgICAgcm91dGU6IGRhdGFbJ2hyZWYnXSwNCiAgICAgICAgICAgIGljb246IGRhdGFbJ2ljb24nXSwNCiAgICAgICAgICAgIF9jaGlsZHJlbjogW10sDQogICAgICB9DQogICAgICBmb3IobGV0IGk9MDsgaTxkYXRhWydlbGVtZW50cyddLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgaWYoZGF0YVsnZWxlbWVudHMnXVtpXVsnc2x1ZyddID09ICdkcm9wZG93bicpew0KICAgICAgICAgIHJlc3VsdC5fY2hpbGRyZW4ucHVzaCggdGhpcy5kcm9wZG93bihkYXRhWydlbGVtZW50cyddW2ldKSApOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICByZXN1bHQuX2NoaWxkcmVuLnB1c2goDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgX25hbWU6ICAnQ1NpZGViYXJOYXZJdGVtJywNCiAgICAgICAgICAgICAgICAgICBuYW1lOiAgIGRhdGFbJ2VsZW1lbnRzJ11baV1bJ25hbWUnXSwNCiAgICAgICAgICAgICAgICAgICB0bzogICAgIGRhdGFbJ2VsZW1lbnRzJ11baV1bJ2hyZWYnXSwNCiAgICAgICAgICAgICAgICAgICBpY29uOiAgIGRhdGFbJ2VsZW1lbnRzJ11baV1bJ2ljb24nXQ0KICAgICAgICAgICAgfSANCiAgICAgICAgICApOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0sDQogICAgcmVidWlsZERhdGEoZGF0YSl7DQogICAgICB0aGlzLmJ1ZmZvciA9IFt7ICAgIA0KICAgICAgICBfbmFtZTogJ0NTaWRlYmFyTmF2JywNCiAgICAgICAgX2NoaWxkcmVuOiBbXQ0KICAgICAgfV07DQogICAgICBmb3IobGV0IGs9MDsgazxkYXRhLmxlbmd0aDsgaysrKXsNCiAgICAgICAgc3dpdGNoKGRhdGFba11bJ3NsdWcnXSl7DQogICAgICAgICAgY2FzZSAnbGluayc6DQogICAgICAgICAgICBpZihkYXRhW2tdWydocmVmJ10uaW5kZXhPZignaHR0cCcpICE9PSAtMSl7DQogICAgICAgICAgICAgIHRoaXMuYnVmZm9yWzBdLl9jaGlsZHJlbi5wdXNoKA0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgIF9uYW1lOiAnQ1NpZGViYXJOYXZJdGVtJywNCiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhW2tdWyduYW1lJ10sDQogICAgICAgICAgICAgICAgICAgICAgaHJlZjogZGF0YVtrXVsnaHJlZiddLA0KICAgICAgICAgICAgICAgICAgICAgIGljb246IGRhdGFba11bJ2ljb24nXSwNCiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICdfYmxhbmsnDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgdGhpcy5idWZmb3JbMF0uX2NoaWxkcmVuLnB1c2goDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgX25hbWU6ICdDU2lkZWJhck5hdkl0ZW0nLA0KICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGRhdGFba11bJ25hbWUnXSwNCiAgICAgICAgICAgICAgICAgICAgICB0bzogICBkYXRhW2tdWydocmVmJ10sDQogICAgICAgICAgICAgICAgICAgICAgaWNvbjogZGF0YVtrXVsnaWNvbiddLA0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIGNhc2UgJ3RpdGxlJzoNCiAgICAgICAgICAgIHRoaXMuYnVmZm9yWzBdLl9jaGlsZHJlbi5wdXNoKA0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgX25hbWU6ICdDU2lkZWJhck5hdlRpdGxlJywNCiAgICAgICAgICAgICAgICBfY2hpbGRyZW46IFtkYXRhW2tdWyduYW1lJ11dDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICk7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgICAgY2FzZSAnZHJvcGRvd24nOg0KICAgICAgICAgICAgdGhpcy5idWZmb3JbMF0uX2NoaWxkcmVuLnB1c2goIHRoaXMuZHJvcGRvd24oZGF0YVtrXSkgKTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHRoaXMuYnVmZm9yOw0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCAoKSB7DQogICAgdGhpcy4kcm9vdC4kb24oJ3RvZ2dsZS1zaWRlYmFyJywgKCkgPT4gew0KICAgICAgY29uc3Qgc2lkZWJhck9wZW5lZCA9IHRoaXMuc2hvdyA9PT0gdHJ1ZSB8fCB0aGlzLnNob3cgPT09ICdyZXNwb25zaXZlJw0KICAgICAgdGhpcy5zaG93ID0gc2lkZWJhck9wZW5lZCA/IGZhbHNlIDogJ3Jlc3BvbnNpdmUnDQogICAgfSkNCiAgICB0aGlzLiRyb290LiRvbigndG9nZ2xlLXNpZGViYXItbW9iaWxlJywgKCkgPT4gew0KICAgICAgY29uc3Qgc2lkZWJhckNsb3NlZCA9IHRoaXMuc2hvdyA9PT0gJ3Jlc3BvbnNpdmUnIHx8IHRoaXMuc2hvdyA9PT0gZmFsc2UNCiAgICAgIHRoaXMuc2hvdyA9IHNpZGViYXJDbG9zZWQgPyB0cnVlIDogJ3Jlc3BvbnNpdmUnDQogICAgfSkNCiAgICBsZXQgc2VsZiA9IHRoaXM7DQoNCiAgICBheGlvcy5nZXQoIHRoaXMuJGFwaUFkcmVzcyArICcvYXBpL21lbnU/dG9rZW49JyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhcGlfdG9rZW4iKSApDQogICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICBzZWxmLm5hdiA9IHNlbGYucmVidWlsZERhdGEocmVzcG9uc2UuZGF0YSk7DQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQogICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvbG9naW4nIH0pOw0KICAgIH0pOw0KICB9DQp9DQo="},{"version":3,"sources":["TheSidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TheSidebar.vue","sourceRoot":"src/containers","sourcesContent":["<template>\r\n  <CSidebar \r\n    fixed \r\n    :minimize=\"minimize\"\r\n    :show=\"show\"\r\n    @update:show=\"(value) => $store.commit('set', ['sidebarShow', value])\"\r\n  >\r\n    <CSidebarBrand class=\"d-md-down-none\" to=\"/\">\r\n      <CIcon \r\n        class=\"d-block\" \r\n        name=\"logo\" \r\n        size=\"custom-size\" \r\n        :height=\"35\" \r\n        :viewBox=\"`0 0 ${minimize ? 110 : 556} 134`\"\r\n      />\r\n    </CSidebarBrand>\r\n    <CRenderFunction flat :content-to-render=\"nav\"/>\r\n    <CSidebarMinimizer\r\n      class=\"d-md-down-none\"\r\n      @click.native=\"$store.commit('set', ['sidebarMinimize', !minimize])\"\r\n    />\r\n  </CSidebar>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'TheSidebar',\r\n  data () {\r\n    return {\r\n      //minimize: false,\r\n      nav: [],\r\n      //show: true,\r\n      buffor: [],\r\n    }\r\n  },\r\n  computed: {\r\n    show () {\r\n      return this.$store.state.sidebarShow \r\n    },\r\n    minimize () {\r\n      return this.$store.state.sidebarMinimize \r\n    }\r\n  },\r\n  methods: {\r\n    dropdown(data){\r\n      let result = {\r\n            _name: 'CSidebarNavDropdown',\r\n            name: data['name'],\r\n            route: data['href'],\r\n            icon: data['icon'],\r\n            _children: [],\r\n      }\r\n      for(let i=0; i<data['elements'].length; i++){\r\n        if(data['elements'][i]['slug'] == 'dropdown'){\r\n          result._children.push( this.dropdown(data['elements'][i]) );\r\n        }else{\r\n          result._children.push(\r\n            {\r\n                   _name:  'CSidebarNavItem',\r\n                   name:   data['elements'][i]['name'],\r\n                   to:     data['elements'][i]['href'],\r\n                   icon:   data['elements'][i]['icon']\r\n            } \r\n          );\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n    rebuildData(data){\r\n      this.buffor = [{    \r\n        _name: 'CSidebarNav',\r\n        _children: []\r\n      }];\r\n      for(let k=0; k<data.length; k++){\r\n        switch(data[k]['slug']){\r\n          case 'link':\r\n            if(data[k]['href'].indexOf('http') !== -1){\r\n              this.buffor[0]._children.push(\r\n                  {\r\n                      _name: 'CSidebarNavItem',\r\n                      name: data[k]['name'],\r\n                      href: data[k]['href'],\r\n                      icon: data[k]['icon'],\r\n                      target: '_blank'\r\n                  }\r\n              );\r\n            }else{\r\n              this.buffor[0]._children.push(\r\n                  {\r\n                      _name: 'CSidebarNavItem',\r\n                      name: data[k]['name'],\r\n                      to:   data[k]['href'],\r\n                      icon: data[k]['icon'],\r\n                  }\r\n              );\r\n            }\r\n          break;\r\n          case 'title':\r\n            this.buffor[0]._children.push(\r\n              {\r\n                _name: 'CSidebarNavTitle',\r\n                _children: [data[k]['name']]\r\n              }\r\n            );\r\n          break;\r\n          case 'dropdown':\r\n            this.buffor[0]._children.push( this.dropdown(data[k]) );\r\n          break;\r\n        }\r\n      }\r\n      return this.buffor;\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$root.$on('toggle-sidebar', () => {\r\n      const sidebarOpened = this.show === true || this.show === 'responsive'\r\n      this.show = sidebarOpened ? false : 'responsive'\r\n    })\r\n    this.$root.$on('toggle-sidebar-mobile', () => {\r\n      const sidebarClosed = this.show === 'responsive' || this.show === false\r\n      this.show = sidebarClosed ? true : 'responsive'\r\n    })\r\n    let self = this;\r\n\r\n    axios.get( this.$apiAdress + '/api/menu?token=' + localStorage.getItem(\"api_token\") )\r\n    .then(function (response) {\r\n      self.nav = self.rebuildData(response.data);\r\n    }).catch(function (error) {\r\n      console.log(error);\r\n      self.$router.push({ path: '/login' });\r\n    });\r\n  }\r\n}\r\n</script>\r\n"]}]}