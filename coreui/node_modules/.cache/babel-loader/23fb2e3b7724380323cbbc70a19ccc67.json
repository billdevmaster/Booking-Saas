{"remainingRequest":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\babel-loader\\lib\\index.js!D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\src\\views\\users\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\src\\views\\users\\Users.vue","mtime":1685723693303},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2023-Workspace\\0531-booking-estonia\\booking-saas\\coreui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdVc2VycycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW1zOiBbXSwKICAgICAgZmllbGRzOiBbJ2lkJywgJ25hbWUnLCAncmVnaXN0ZXJlZCcsICdyb2xlcycsICdzdGF0dXMnLCAnc2hvdycsICdlZGl0JywgJ2RlbGV0ZSddLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGVyUGFnZTogNSwKICAgICAgdG90YWxSb3dzOiAwLAogICAgICB5b3U6IG51bGwsCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBzaG93TWVzc2FnZTogZmFsc2UsCiAgICAgIGRpc21pc3NTZWNzOiA3LAogICAgICBkaXNtaXNzQ291bnREb3duOiAwLAogICAgICBzaG93RGlzbWlzc2libGVBbGVydDogZmFsc2UKICAgIH07CiAgfSwKICBwYWdpbmF0aW9uUHJvcHM6IHsKICAgIGFsaWduOiAnY2VudGVyJywKICAgIGRvdWJsZUFycm93czogZmFsc2UsCiAgICBwcmV2aW91c0J1dHRvbkh0bWw6ICdwcmV2JywKICAgIG5leHRCdXR0b25IdG1sOiAnbmV4dCcKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJhZGdlOiBmdW5jdGlvbiBnZXRCYWRnZShzdGF0dXMpIHsKICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gJ0FjdGl2ZScgPyAnc3VjY2VzcycgOiBzdGF0dXMgPT09ICdJbmFjdGl2ZScgPyAnc2Vjb25kYXJ5JyA6IHN0YXR1cyA9PT0gJ1BlbmRpbmcnID8gJ3dhcm5pbmcnIDogc3RhdHVzID09PSAnQmFubmVkJyA/ICdkYW5nZXInIDogJ3ByaW1hcnknOwogICAgfSwKICAgIHVzZXJMaW5rOiBmdW5jdGlvbiB1c2VyTGluayhpZCkgewogICAgICByZXR1cm4gInVzZXJzLyIuY29uY2F0KGlkLnRvU3RyaW5nKCkpOwogICAgfSwKICAgIGVkaXRMaW5rOiBmdW5jdGlvbiBlZGl0TGluayhpZCkgewogICAgICByZXR1cm4gInVzZXJzLyIuY29uY2F0KGlkLnRvU3RyaW5nKCksICIvZWRpdCIpOwogICAgfSwKICAgIHNob3dVc2VyOiBmdW5jdGlvbiBzaG93VXNlcihpZCkgewogICAgICB2YXIgdXNlckxpbmsgPSB0aGlzLnVzZXJMaW5rKGlkKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IHVzZXJMaW5rCiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRVc2VyOiBmdW5jdGlvbiBlZGl0VXNlcihpZCkgewogICAgICB2YXIgZWRpdExpbmsgPSB0aGlzLmVkaXRMaW5rKGlkKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IGVkaXRMaW5rCiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVVzZXI6IGZ1bmN0aW9uIGRlbGV0ZVVzZXIoaWQpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgdXNlcklkID0gaWQ7CiAgICAgIGF4aW9zLnBvc3QodGhpcy4kYXBpQWRyZXNzICsgJy9hcGkvdXNlcnMvJyArIGlkICsgJz90b2tlbj0nICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFwaV90b2tlbiIpLCB7CiAgICAgICAgX21ldGhvZDogJ0RFTEVURScKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBzZWxmLm1lc3NhZ2UgPSAnU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgdXNlci4nOwogICAgICAgIHNlbGYuc2hvd0FsZXJ0KCk7CiAgICAgICAgc2VsZi5nZXRVc2VycygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgc2VsZi4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgY291bnREb3duQ2hhbmdlZDogZnVuY3Rpb24gY291bnREb3duQ2hhbmdlZChkaXNtaXNzQ291bnREb3duKSB7CiAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IGRpc21pc3NDb3VudERvd247CiAgICB9LAogICAgc2hvd0FsZXJ0OiBmdW5jdGlvbiBzaG93QWxlcnQoKSB7CiAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IHRoaXMuZGlzbWlzc1NlY3M7CiAgICB9LAogICAgZ2V0VXNlcnM6IGZ1bmN0aW9uIGdldFVzZXJzKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGF4aW9zLmdldCh0aGlzLiRhcGlBZHJlc3MgKyAnL2FwaS91c2Vycz90b2tlbj0nICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFwaV90b2tlbiIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHNlbGYuaXRlbXMgPSByZXNwb25zZS5kYXRhLnVzZXJzOwogICAgICAgIHNlbGYueW91ID0gcmVzcG9uc2UuZGF0YS55b3U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAnL2xvZ2luJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <CRow>\r\n    <CCol col=\"12\" xl=\"8\">\r\n      <transition name=\"slide\">\r\n      <CCard>\r\n        <CCardHeader>\r\n            Users\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <CAlert\r\n            :show.sync=\"dismissCountDown\"\r\n            color=\"primary\"\r\n            fade\r\n          >\r\n            ({{dismissCountDown}}) {{ message }}\r\n          </CAlert>\r\n          <CDataTable\r\n            hover\r\n            striped\r\n            :items=\"items\"\r\n            :fields=\"fields\"\r\n            :items-per-page=\"5\"\r\n            pagination\r\n          >\r\n          <template #status=\"{item}\">\r\n            <td>\r\n              <CBadge :color=\"getBadge(item.status)\">{{ item.status }}</CBadge>\r\n            </td>\r\n          </template>\r\n          <template #show=\"{item}\">\r\n            <td>\r\n              <CButton color=\"primary\" @click=\"showUser( item.id )\">Show</CButton>\r\n            </td>\r\n          </template>\r\n          <template #edit=\"{item}\">\r\n            <td>\r\n              <CButton color=\"primary\" @click=\"editUser( item.id )\">Edit</CButton>\r\n            </td>\r\n          </template>\r\n          <template #delete=\"{item}\">\r\n            <td>\r\n              <CButton v-if=\"you!=item.id\" color=\"danger\" @click=\"deleteUser( item.id )\">Delete</CButton>\r\n            </td>\r\n          </template>\r\n        </CDataTable>\r\n        </CCardBody>\r\n      </CCard>\r\n      </transition>\r\n    </CCol>\r\n  </CRow>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Users',\r\n  data: () => {\r\n    return {\r\n      items: [],\r\n      fields: ['id', 'name', 'registered', 'roles', 'status', 'show', 'edit', 'delete'],\r\n      currentPage: 1,\r\n      perPage: 5,\r\n      totalRows: 0,\r\n      you: null,\r\n      message: '',\r\n      showMessage: false,\r\n      dismissSecs: 7,\r\n      dismissCountDown: 0,\r\n      showDismissibleAlert: false\r\n    }\r\n  },\r\n  paginationProps: {\r\n    align: 'center',\r\n    doubleArrows: false,\r\n    previousButtonHtml: 'prev',\r\n    nextButtonHtml: 'next'\r\n  },\r\n  methods: {\r\n    getBadge (status) {\r\n      return status === 'Active' ? 'success'\r\n        : status === 'Inactive' ? 'secondary'\r\n          : status === 'Pending' ? 'warning'\r\n            : status === 'Banned' ? 'danger' : 'primary'\r\n    },\r\n    userLink (id) {\r\n      return `users/${id.toString()}`\r\n    },\r\n    editLink (id) {\r\n      return `users/${id.toString()}/edit`\r\n    },\r\n    showUser ( id ) {\r\n      const userLink = this.userLink( id );\r\n      this.$router.push({path: userLink});\r\n    },\r\n    editUser ( id ) {\r\n      const editLink = this.editLink( id );\r\n      this.$router.push({path: editLink});\r\n    },\r\n    deleteUser ( id ) {\r\n      let self = this;\r\n      let userId = id;\r\n      axios.post(  this.$apiAdress + '/api/users/' + id + '?token=' + localStorage.getItem(\"api_token\"), {\r\n        _method: 'DELETE'\r\n      })\r\n      .then(function (response) {\r\n          self.message = 'Successfully deleted user.';\r\n          self.showAlert();\r\n          self.getUsers();\r\n      }).catch(function (error) {\r\n        console.log(error);\r\n        self.$router.push({ path: '/login' });\r\n      });\r\n    },\r\n    countDownChanged (dismissCountDown) {\r\n      this.dismissCountDown = dismissCountDown\r\n    },\r\n    showAlert () {\r\n      this.dismissCountDown = this.dismissSecs\r\n    },\r\n    getUsers (){\r\n      let self = this;\r\n      axios.get(  this.$apiAdress + '/api/users?token=' + localStorage.getItem(\"api_token\"))\r\n      .then(function (response) {\r\n        self.items = response.data.users;\r\n        self.you = response.data.you;\r\n      }).catch(function (error) {\r\n        console.log(error);\r\n        self.$router.push({ path: '/login' });\r\n      });\r\n    }\r\n  },\r\n  mounted: function(){\r\n    this.getUsers();\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/users"}]}